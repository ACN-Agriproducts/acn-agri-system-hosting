<div id='title'>
    <h1>ACN AGRIPRODUCTS LLC</h1>
    <span id='address'>1512 Rancho Toluca Rd Progreso TX 78597</span>    
</div>


<div class="client-info">
    <img id='company-logo' src='https://firebasestorage.googleapis.com/v0/b/business-manager-c488c.appspot.com/o/logo%2Fcompanylogoonly.png?alt=media&token=cd8bbf25-c1ae-4880-b883-6cfb8f12f9bb'>
    <div *ngIf="contract" id="contract-details">
        <div id='farmer-name'>FARMER NAME: {{contract.clientName}}</div>
        <div id='contract-id'>Contract {{contract.id}}</div>
        <div id='date'>DATE: {{getDate() | date:'fullDate'}}</div>
    </div>
</div>

<table id="liquidation-table">
    <colgroup>
        <col class="one-fr">
        <col class="one-fr">
        <col class="one-fr">
        <col class="one-fr">
        <col class="one-fr">
        <col class="one-fr">
        <col class="one-fr">
        <col class="one-fr">
        <col class="one-and-half-fr">
        <col class="one-fr">
        <col class="one-fr">
        <col class="one-and-half-fr">
        <col class="one-fr">
        <col class="one-fr">
        <col class="two-fr">
        <col class="one-fr">
        <col class="one-fr">
        <col class="two-fr">
    </colgroup>
    <tr>
        <th rowspan="2">INBOUND DATE</th>
        <th rowspan="2">TICKET #</th>
        <th rowspan="2">CONTRACT</th>
        <th colspan="3">WEIGHT (lbs)</th>
        <th colspan="2">MOISTURE</th>
        <th rowspan="2">ADJUSTED WEIGHT</th>
        <th colspan="2">DAMAGE</th>
        <th rowspan="2">ADJUSTED WEIGHT</th>
        <th rowspan="2">PRICE ($/BU)</th>
        <th rowspan="2">ADJUSTED PRICE ($/BU)</th>
        <th rowspan="2">TOTAL ($)</th>
        <th rowspan="2">INFESTED</th>
        <th rowspan="2">INSPECTION</th>
        <th rowspan="2">NET TO PAY ($)</th>
        
    </tr>
    <tr>
        <th>GROSS</th>
        <th>TARE</th>
        <th>NET</th>
        <th>%</th>
        <th>CWT</th>
        <th>%</th>
        <th>CWT</th>
    </tr>
    <tr *ngFor="let ticket of ticketList; even as even">
        <td [class.odd]='!even' [class.even]='even' class='center'>{{ticket.data.dateIn | date:'shortDate'}}</td>
        <td [class.odd]='!even' [class.even]='even' class='center'>{{ticket.data.id}}</td>
        <td [class.odd]='!even' [class.even]='even' class='center'>{{ticket.data.contractID}}</td>
        <td [class.odd]='!even' [class.even]='even' class='right'>{{ticket.data.gross}}</td>
        <td [class.odd]='!even' [class.even]='even' class='right'>{{ticket.data.tare}}</td>
        <td [class.odd]='!even' [class.even]='even' class='right'>{{ticket.data.gross - ticket.data.tare}}</td>
        <td [class.odd]='!even' [class.even]='even' class='right'>{{ticket.data.moisture | number:'1.1-1'}}</td>
        <td [class.odd]='!even' [class.even]='even' class='right'>{{ticket.data.dryWeight - (ticket.data.gross - ticket.data.tare)}}</td>
        <td [class.odd]='!even' [class.even]='even' class='right'>{{ticket.data.dryWeight}}</td>
        <td [class.odd]='!even' [class.even]='even' class='right'>{{ticket.data.damage || 0 | number:'1.1-1'}}</td>
        <td [class.odd]='!even' [class.even]='even' class='right'>{{0 | number:'1.1-1'}}</td>
        <td [class.odd]='!even' [class.even]='even' class='right'>{{ticket.data.dryWeight}}</td>
        <td [class.odd]='!even' [class.even]='even' class='right'>{{contract.pricePerBushel | currency}}</td>
        <td [class.odd]='!even' [class.even]='even' class='right'>{{contract.pricePerBushel | currency}}</td>
        <td [class.odd]='!even' [class.even]='even' class='right'>{{contract.pricePerBushel * ticket.data.dryWeight / 56 | currency}}</td>
        <td [class.odd]='!even' [class.even]='even' class='right'>{{ticket.discounts.infested | currency}}</td>
        <td [class.odd]='!even' [class.even]='even' class='right'>${{ticket.discounts.inspection | currency}}</td>
        <td [class.odd]='!even' [class.even]='even' class='right'>
            {{contract.pricePerBushel / 56 * ticket.data.dryWeight - ticket.discounts.infested - ticket.discounts.inspection | currency}}
        </td>
    </tr>
    <tr>
        <td class='total-row center'>TOTALS:</td>
        <td class='total-row'></td>
        <td class='total-row'></td>
        <td class='total-row right'>{{gross | number}}</td>
        <td class='total-row right'>{{tare | number}}</td>
        <td class='total-row right'>{{gross - tare | number}}</td>
        <td class='total-row'></td>
        <td class='total-row right'>{{moistureDiscount}}</td>
        <td class='total-row right'>{{moistureAdjustedWeight | number}}</td>
        <td class='total-row'></td>
        <td class='total-row'>-</td>
        <td class='total-row right'>{{moistureAdjustedWeight | number}}</td>
        <td class='total-row right'>{{contract.pricePerBushel / 0.56 | currency}}</td>
        <td class='total-row right'>{{contract.pricePerBushel / 0.56 | currency}}</td>
        <td class='total-row right'>{{moistureAdjustedWeight / 100 * contract.pricePerBushel / 0.56 | currency}}</td>
        <td class='total-row right'>{{getTotalInfestedDiscount() | currency}}</td>
        <td class='total-row right'>{{getTotalInspectionDiscount() | currency}}</td>
        <td class='total-row right'>{{moistureAdjustedWeight / 100 * contract.pricePerBushel / 0.56 | currency}}</td>
    </tr>
</table>